<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="stylesheet" href="css/player.css">
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/open.css">
    <link rel="stylesheet" href="css/header.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search</title>
</head>

<body>
    <div class="player">
        <div class="player_body">
            <div class="side_bar_home">
                <img style="width: 70px;" src="https://cdn.freebiesupply.com/logos/thumbs/2x/gitlab-logo.png" alt="">
                <div class="sidebar_option">
                    <i class="fas fa-home"></i>
                    <p>
                        Home
                    </p>

                </div>
                <div class="sidebar_option">
                    <i class="fas fa-search"></i>
                    <p>Search</p>

                </div>
                <div class="sidebar_option">
                    <i class="fas fa-swatchbook"></i>
                    <p>
                        Your Library
                    </p>

                </div>
                <br />
                <strong class="sidebar_tittle"> PLAYLIST </strong>
                <hr />
                <div class="sidebar_option">
                    <i class="fas fa-plus-square"></i>
                    <p>
                        Add new playlist
                    </p>

                </div>
                <div class="sidebar_option">
                    <i class="fas fa-record-vinyl"></i>
                    <p>
                        Hip hop
                    </p>

                </div>
                <div class="sidebar_option">
                    <i class="fas fa-record-vinyl"></i>
                    <p>
                        Hip hop
                    </p>

                </div>
                <div class="sidebar_option">
                    <i class="fas fa-record-vinyl"></i>
                    <p>
                        Hip hop
                    </p>

                </div>
                <div class="sidebar_option">
                    <i class="fas fa-record-vinyl"></i>
                    <p>
                        Hip hop
                    </p>

                </div>
                <div class="sidebar_option">
                    <i class="fas fa-record-vinyl"></i>
                    <p>
                        Hip hop
                    </p>

                </div>
                <div class="sidebar_option">
                    <i class="fas fa-record-vinyl"></i>
                    <p>
                        Hip hop
                    </p>

                </div>
                <div class="sidebar_option">
                    <i class="fas fa-record-vinyl"></i>
                    <p>
                        Hip hop
                    </p>

                </div>
            </div>
            <div class="colection_body" style="background: linear-gradient(rgb(161, 86, 149),black);">
                <div class="collection_header" style="margin-bottom: 30px;">
                    <div class="header_left" style="
                    background-color: white;
                    color:gray;
                    border-radius:30px;
                    display:flex;
                    align-items:center;
                    width:90%;
                    padding:10px">
                        <i class="fas fa-search fa-2x"></i>
                        <input id="search" type="text" placeholder="Search for Artists,Songs, or Playlist" style="border: none;  margin: 0 0.5rem 0 0.5rem;width:100%">
                    </div>
                    <div class="header_right">
                        <img src="https://www.w3schools.com/w3images/avatar6.png" alt=""
                            style="border-radius: 50%;width:40px">
                    </div>
                </div>
                <style>
                    #search:focus{
                        outline: none;
                    }
                </style>
                <h1 style="font-size:xx-large;padding:20px 0">Browse all</h1>
                <div class="container_browse">
                    
                        <div class="genres">
                            <img src="./img/Frame 2g2.png" alt="" >
                        </div>
                        <div class="genres">
                            <img src="./img/Frame 3.png" alt="" >
                        </div>
                        <div class="genres">
                            <img src="./img/Frame 4.png" alt="">
                        </div>
                        <div class="genres">
                            <img src="./img/Frame 5.png" alt="">
                        </div>
            
                        <div class="genres">
                            <img src="./img/Frame 6.png" alt="">
                        </div>
                        <div class="genres">
                            <img src="./img/Frame 7.png" alt="">
                        </div>
                        <div class="genres">
                            <img src="./img/Frame 8.png" alt="">
                        </div>
                        <div class="genres">
                            <img src="./img/Frame 1g1 (1).png" alt="">
                        </div>
            
                        <div class="genres">
                            <img src="./img/m9.png" alt="">
                        </div>
                        <div class="genres">
                            <img src="./img/m1.png" alt="">
                        </div>
                        <div class="genres">
                            <img src="./img/m2.png" alt="">
                        </div>
                        <div class="genres">
                            <img src="./img/m3.png" alt="">
                        </div>
            
                        <div class="genres">
                            <img src="./img/m4.png" alt="">
                        </div>
                        <div class="genres">
                            <img src="./img/m5.png" alt="">
                        </div>
                        <div class="genres">
                            <img src="./img/m6.png" alt="">
                        </div>
                        <div class="genres">
                            <img src="./img/m7.png" alt="">
                        </div>
                    </div>
                
            </div>
            <div class="player_footer">
                <div class="footer_left">
                    <img class="song_playing" src="" />
                    <div class="song_info">
                        <h4 id="my_tittle"></h4>
                        <p id="my_artis"></p>
                    </div>
                </div>
                <div class="footer_center">
                    <div class="control_bar">
                        <i class="fa fa-random fa-2x" id="control_green"></i>
                        <i class="fas fa-step-backward fa-2x" id="control_icon"></i>
                        <div class="play_button">
                            <i class="far fa-play-circle fa-5x " id="control_icon"></i>
                            <i class="fas fa-pause-circle fa-5x my pause"></i>
                        </div>
    
                        <i class="fas fa-step-forward fa-2x" id="control_icon"></i>
                        <i class="fas fa-retweet fa-2x" id="control_green"></i>
                    </div>
                    <div class="progress-container">
                        <span id="start_time"></span>
                        <div class="progress-bar">
                            <div class="progress" id="progress"></div>
                            <audio id="audio" src=""></audio>
                        </div>
                        <span id="end_time"></span>
                    </div>
                </div>
                <div class="footer_right">
                    <i class="fas fa-list-ul fa-2x"></i>
                    <div class="volume_control">
                        <i id="volume" class="fas fa-volume-up fa-2x"></i>
                        <i id="volume_mute" class="fas fa-volume-mute fa-2x changesound"></i>
                    </div>
    
                    <div class="input-div">
                        <div class="volumn-input-div">
                            <input class="sound_input" type="range" value="100" step="5" min="0">
    
                        </div>
                    </div>
                </div>
            </div>
        </div>
</body>

<script>
    //handle play music
    const player_tittle = $('#my_tittle');
    const player_thumb = $('.song_playing');
    const player_artis = $('#my_artis');
    const audio = $('#audio');
    const playBtn = $('.play_button');
    const progress = $("#progress");
    const next_Btn = $('.fa-step-forward');
    const prev_Btn = $('.fa-step-backward');
    const random_Btn = $('.fa-random');
    const repeat_Btn = $('.fa-retweet');
    const volume = $(".volume_control");
    const app = {
        isMute: false,
        currentIndex: 0,
        isRandom: false,
        isRepeat: false,
        songs: [
            {
                name: 'GENE',
                singer: 'Binz',
                path: './music/GENE.mp3',
                image: 'https://tudienwiki.com/wp-content/uploads/2020/09/Binz.png'
            }
            
        ],
         
        defineProperties: function () {
            Object.defineProperty(this, 'currrentSong', {
                get: function () {
                    return this.songs[this.currentIndex]
                }
            })
        },
        handleEvent: function () {
            
            //Handle play/pause button
            playBtn.click(function () {
                if ($('.fa-play-circle').hasClass("my pause")) {
                    $('.fa-play-circle').removeClass("my pause")
                    $('.fa-pause-circle').addClass("pause")
                    audio.get(0).pause()
                } else {
                    $('.fa-play-circle').addClass("my pause")
                    $('.fa-pause-circle').removeClass("pause")
                    audio.get(0).play()
                    audio.get(0).ontimeupdate = function () {
                        var s = parseInt(audio.get(0).currentTime % 60);
                        var m = parseInt((audio.get(0).currentTime / 60) % 60);
                        $('#start_time').html(m + ':' + s)
                        //progress of song
                        if (audio.get(0).duration) {
                            const song_progress = Math.floor(audio.get(0).currentTime / audio.get(0).duration * 100)
                            progress.css("width", song_progress + '%')
                        }
                    }

                    var e = parseInt(audio.get(0).duration % 60);
                    var d = parseInt((audio.get(0).duration / 60) % 60);
                    $('#end_time').html(e + ':' + d * 10)
                }

            })
            
            //volume on click
            volume.click(function () {
                if ($('#volume').hasClass("changesound")) {
                    $('#volume').removeClass("changesound")
                    $('#volume_mute').addClass("changesound")
                    document.querySelector(".sound_input").value = 100
                    audio.get(0).volume = slider.value / 100


                } else {
                    $('#volume').addClass("changesound")
                    $('#volume_mute').removeClass("changesound")
                    document.querySelector(".sound_input").value = 0
                    audio.get(0).volume = slider.value / 100
                }
            })

            //volume handle
            const slider = document.querySelector(".sound_input")
            slider.oninput = function () {
                audio.get(0).volume = slider.value / 100
                //console.log(slider.value)
                if (parseInt(slider.value) === 0) {
                    app.isMute = true
                    $('#volume').addClass('changesound')
                    $('#volume_mute').removeClass('changesound')
                } else {
                    app.isMute = false
                    $('#volume').removeClass('changesound')
                    $('#volume_mute').addClass('changesound')
                }
                console.log(app.isMute)
            }

        },

        //load Song

        loadCurrentSong: function () {
            audio.attr("src", this.currrentSong.path)
            player_thumb.attr("src", this.currrentSong.image)
            player_artis.html(this.currrentSong.singer)
            player_tittle.html(this.currrentSong.name)
        },
       
        start: function () {
            //define properties for object
            this.defineProperties()
            //load current Song
            this.loadCurrentSong()
            //render playlist
            
            this.handleEvent()
        }
    }

    app.start()
</script>

</html>


<!-- Function list  
    0.sync 2 play button control  --done
    1.Render and display songs      --done
    2.Play / pause /seek            --done
    3. Next/prev control            --done
    4. Random Songs control         -done
    5.Next/Repeat when song ended       -done
    6. Play song choosed in list when click on this song    --done
    7.Active love_button,sync 2 love_button
    8.Song active: music waves animation            --done
    9.More_button display text info when click, sync 2 more
    10.Volumn song control-->
<!-- Player Process -->